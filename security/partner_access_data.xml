<?xml version="1.0"?>
<odoo>
    <data noupdate="0">

        <!-- res.partner -->
        <record id="is_res_partner_access_base_users" model="ir.rule">
            <field name="name">Accès en lecture si utilisateur dans is_group_id</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">[('is_group_id','in',[g.id for g in user.groups_id])]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="0" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="0" name="perm_create"/>
        </record>
        <record id="is_res_partner_access_login" model="ir.rule">
            <field name="name">Accès en lecture à la fiche de l'utilisateur (sinon, connexion impossible)</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">[( 'id', '=',user.partner_id.id) ]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="0" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="0" name="perm_create"/>
        </record>

        <record id="is_res_partner_access_login_error" model="ir.rule">
            <field name="name">Accès en lecture à la fiche de l'utilisateur (sinon, erreure à la connexion)</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">[( 'id','in',[1,2,3]) ]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="0" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="0" name="perm_create"/>
        </record>


        <record id="is_res_partner_access_modification_createur" model="ir.rule">
            <field name="name">Accès en modification au créateur</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">[( 'is_createur_id', '=', user.id) ]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="0" name="perm_read"/>
            <field eval="0" name="perm_create"/>
        </record>
        <record id="is_res_partner_access_modification_vendeur" model="ir.rule">
            <field name="name">Accès en modification au vendeur</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">[( 'user_id', '=', user.id) ]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="0" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="0" name="perm_read"/>
            <field eval="0" name="perm_create"/>
        </record>
        <record id="is_res_partner_access_modification_responsable" model="ir.rule">
            <field name="name">Accès en modification au responsable</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('sales_team.group_sale_manager'))]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>
        <record id="base.res_partner_portal_public_rule" model="ir.rule">
            <field eval="0" name="active"/>
        </record>
        <record id="base.res_partner_rule_private_employee" model="ir.rule">
            <field eval="0" name="active"/>
        </record>



        <!-- is.suivi.activite -->
        <record id="is_suivi_activite_access_createur" model="ir.rule">
            <field name="name">Accès en modification au créateur</field>
            <field name="model_id" ref="model_is_suivi_activite"/>
            <field name="domain_force">[( 'createur_id', '=', user.id) ]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>
        <record id="is_suivi_activite_access_manager" model="ir.rule">
            <field name="name">Accès complet aux responsables des ventes</field>
            <field name="model_id" ref="model_is_suivi_activite"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('sales_team.group_sale_manager'))]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>



    </data>
</odoo>
